---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by aaa.
--- DateTime: 2019/9/11 13:45
---
local RolePartUtil = BaseClass("RolePartUtil")
local function PartReplace(type,game,id)
    local path = string.format("Art/Roles/rol_%s/Pefabs/model_xc_%s_wp%s.asset",id,id,type)
    ResourcesManager:GetInstance():LoadAsync(path,typeof(CS.RolePartConfig),function(asset)
        if not IsNull(asset)  then
            CS.RolePartUtil.Replace(game,asset)
        end
    end)
end

local function RolePartLoad(game,id,type,callback)
    id = math.floor(id)
    type = math.floor(type)
    if id ~= 1102002 then
        return
    end
    if IsNull(game) then
        local battle_role_config = DataUtil.GetData("battle_role_config")
        local config = battle_role_config[id]
        if config ~= nil then
            GameObjectPool:GetInstance():GetGameObjectAsync(config.PrefabUI,function(go)
                PartReplace(type,go,id)
                if callback ~= nil then
                    callback(go)
                end
            end)
        end
    else
        PartReplace(type,game,id)
    end
end

RolePartUtil.RolePartLoad = RolePartLoad
return RolePartUtil