---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by LJ095.
--- DateTime: 2019/10/23 12:19
---

local UILyztChatWrapItem = BaseClass("UILyztChatWrapItem", UIWrapComponent)
local base = UIWrapComponent



local function OnCreate(self)
    base.OnCreate(self)
    self.left_right={};
    local count=self.transform.childCount;
    for i = 0, count-1 do
        local tempItem=self:AddComponent(UIBaseContainer,i);
        local tempIcon=tempItem:AddComponent(UIImage,"icon",AtlasConfig.DynamicTex);
        local tempText=tempItem:AddComponent(UIText,"bg/content");
        local tempBg=UIUtil.FindTrans(tempItem.transform,"bg");
        table.insert(self.left_right,{obj=tempItem,icon=tempIcon,contentText=tempText,bg=tempBg});
    end

end

local function OnRefresh(self, _real_index)
    local data = self.view.world_list[_real_index]
    local realIndex=_real_index;
    local isMain=data.isNpac==2 and 1 or 2;
    for i, v in ipairs(self.left_right) do
        v.obj.transform.gameObject:SetActive(isMain==i);
    end
    self.left_right[isMain].icon:SetSpriteName(data.icon);
    self.left_right[isMain].contentText:SetText(data.content);
    self.left_right[isMain].obj.transform.gameObject:SetActive(true);
    self.left_right[isMain].bg.sizeDelta = data.size
end


UILyztChatWrapItem.OnCreate = OnCreate
UILyztChatWrapItem.OnRefresh = OnRefresh
return UILyztChatWrapItem


