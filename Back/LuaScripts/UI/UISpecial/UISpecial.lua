---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by ljl.
--- DateTime: 2018/12/27 14:44
---

local UISpecial = BaseClass("UISpecial", Singleton)

local function UITipText(self, textInfo, exitTime)
    if textInfo == nil then
        return
    end
    local recycleTime = exitTime or 1
    GameObjectPool:GetInstance():GetGameObjectAsync("UI/Prefabs/View/UITipText.prefab",
            function(go)
                if not IsNull(go) then
                    local layer = UIManager:GetInstance():GetLayer(UILayers.TipLayer.Name)
                    if self.size_delta == nil then
                        self.size_delta = UIUtil.FindComponent(layer.transform, typeof(CS.UnityEngine.RectTransform)).sizeDelta
                    end
                    local inst_trans = go.transform
                    inst_trans:SetParent(layer.transform)
                    inst_trans.localScale = Vector3.New(1, 1, 1)
                    UIUtil.FindComponent(inst_trans, typeof(CS.UnityEngine.RectTransform)).anchoredPosition3D = Vector3.New(0, 0, 0)
                    --UIUtil.FindComponent(inst_trans,typeof(CS.UnityEngine.RectTransform)).anchoredPosition3D = GetUIPos(self,data.pos)
                    UIUtil.FindComponent(UIUtil.GetChild(inst_trans, 0), typeof(CS.UnityEngine.Animator)):Play("fx_ui_imgNumber_1", 0, 0)
                    UIUtil.FindComponent(UIUtil.GetChild(inst_trans, 0), typeof(CS.UnityEngine.UI.Text)).text = textInfo
                    UIUtil.FindComponent(UIUtil.GetChild(inst_trans, 0), typeof(CS.UnityEngine.UI.Button)).transform.anchoredPosition = Vector3.New(-UIUtil.FindComponent(UIUtil.GetChild(inst_trans, 0), typeof(CS.UnityEngine.UI.Text)).preferredWidth / 2 - 59, -2.7, 0)
                    TimerManager:GetInstance():SimpleTimerArgs(recycleTime, function(go)
                        GameObjectPool:GetInstance():RecycleGameObject("UI/Prefabs/View/UITipText.prefab", go)
                    end, go, true)
                end
            end
    )
end

UISpecial.UITipText = UITipText
return UISpecial