---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by ljl.
--- DateTime: 2019/6/5 10:58
---
local UINationWarCellModel = BaseClass("UINationWarCellModel", UIBaseModel)
local base = UIBaseModel

-- 创建
local function OnCreate(self)
    base.OnCreate(self)
    -- 窗口生命周期内保持的成员变量放这
    ---神器的数据
    self.artifactList = {}
end

-- 打开
local function OnEnable(self)
    base.OnEnable(self)
    -- 窗口关闭时可以清理的成员变量放这
    self.artifactList = ArtifactsData:GetInstance().artifactList
end


-- 刷新全部数据
local function OnRefresh(self,_trans)
    self.artifactList = ArtifactsData:GetInstance().artifactList
    UIManager:GetInstance():Broadcast(UIMessageNames.UI_ARTIFACT_LV_UP_UPDATE,_trans)
end

-- 监听
local function OnAddListener(self)
    base.OnAddListener(self)
    --添加监听
    self:AddDataListener(DataMessageNames.ON_ARTIFACT_DATA_UPDATE, OnRefresh)
end

local function OnRemoveListener(self)
    base.OnRemoveListener(self)
    -- 移除监听
    self:RemoveDataListener(DataMessageNames.ON_ARTIFACT_DATA_UPDATE, OnRefresh)
end

-- 关闭
local function OnDisable(self)
    base.OnDisable(self)
    -- 清理成员变量

end

-- 销毁
local function OnDestroy(self)
    base.OnDestroy(self)
    -- 清理成员变量

end

UINationWarCellModel.OnCreate = OnCreate
UINationWarCellModel.OnEnable = OnEnable
UINationWarCellModel.OnRefresh = OnRefresh
UINationWarCellModel.OnAddListener = OnAddListener
UINationWarCellModel.OnRemoveListener = OnRemoveListener
UINationWarCellModel.OnDisable = OnDisable
UINationWarCellModel.OnDestroy = OnDestroy

return UINationWarCellModel