---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by ljl.
--- DateTime: 2019/9/11 16:58
---
local UIStrongWrapItem=BaseClass("UIStrongWrapItem",UIWrapComponent)
local base = UIWrapComponent
local function OnCreate(self)
    base.OnCreate(self)
    --组建初始化
    self.titleText = self:AddComponent(UIText,"recText")
    self.numText = self:AddComponent(UIText,"nameText")
    self.iconImg = self:AddComponent(UIImage,"Icon",AtlasConfig.DynamicTex)
    self.qualityImg = self:AddComponent(UIImage,"qualityImg",AtlasConfig.Language)
    self.strongBtn = self:AddComponent(UIButton,"strongBtn")
    self.slider = self:AddComponent(UISlider,"score_scrollbar")
    self.strongBtn:SetOnClick(function ()
        UIJumpManager.JumpByTypeAndParam(self.data.jump.To,self.data.jump.Param)
    end)

end

-- 组件被复用时回调该函数，执行组件的刷新
local function OnRefresh(self,real_index)
    local singleData=self.view.dataList.itemList[real_index+1]
    self.data=singleData
    self.titleText:SetText(singleData.name)
    self.qualityImg:SetSpriteName(singleData.info)
    self.slider:SetValue(singleData.val)
    self.iconImg:SetSpriteName(singleData.icon)
    if singleData.val > 1 then
        self.numText:SetText("100%")
    else
        self.numText:SetText(math.floor(singleData.val * 100) .."%")
    end

end

UIStrongWrapItem.OnCreate = OnCreate
UIStrongWrapItem.OnRefresh=OnRefresh

return UIStrongWrapItem