---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by ljl.
--- DateTime: 2019/7/15 14:17
---
local UIArenaPKInfo = BaseClass("UIArenaPKInfo", UIBaseContainer)
local base = UIBaseContainer


local function OnCreate(self)
    base.OnCreate(self)
    -- 初始化各个组件
    self.pvpNameText = self:AddComponent(UIText,"bgForPvp/pvpNameText")
    self.pvpNameText:SetText(DataUtil.GetClientText(100228))
    self.openTimeText = self:AddComponent(UIText,"bgForPvp/openTimeText")
    self.openTimeText:SetText(DataUtil.GetClientText(100230))
    self.timeInfoText = self:AddComponent(UIText,"bgForPvp/timeInfoText")
    self.timeInfoText:SetText(DataUtil.GetClientText(100235))
    self.timeNumText = self:AddComponent(UIText,"bgForPvp/timeNumText")
    self.timeNumText:SetText(DataUtil.GetClientText(100236))

    self.winNameText = self:AddComponent(UIText,"bgForPvp/winPanelImg/winNameText")
    self.winNameText:SetText(DataUtil.GetClientText(100231))
    self.winNumText = self:AddComponent(UIText,"bgForPvp/winPanelImg/winNumText")
    self.winTextNum = self:AddComponent(UIText,"bgForPvp/winPanelImg/winTextNum")
    self.lostTextNum = self:AddComponent(UIText,"bgForPvp/winPanelImg/lostTextNum")
    self.allTextNum = self:AddComponent(UIText,"bgForPvp/winPanelImg/allTextNum")
    self.pvpChallengeBtn = self:AddComponent(UIButton,"bgForPvp/pvpChallengeBtn")
    self.pvpChallengeBtnText = self:AddComponent(UIText,"bgForPvp/pvpChallengeBtn/text1")
    self.pvpChallengeBtnText:SetText(DataUtil.GetClientText(100147))
    self.pvpChallengeBtn:SetOnClick(function ()
        LJAudioManger:GetInstance():PlayVoice("UI_CommonClick")
        self.view:OnChallengeClick(1)
    end)

    self.pveNameText = self:AddComponent(UIText,"bgForPve/pveNameText")
    self.pveNameText:SetText(DataUtil.GetClientText(100229))
    self.pveChallengeBtn = self:AddComponent(UIButton,"bgForPve/pveChallengeBtn")
    self.pveChallengeBtnText = self:AddComponent(UIText,"bgForPve/pveChallengeBtn/text2")
    self.pveChallengeBtnText:SetText(DataUtil.GetClientText(100147))
    self.pveChallengeBtn:SetOnClick(function ()
        LJAudioManger:GetInstance():PlayVoice("UI_CommonClick")
        self.view:OnChallengeClick(2)
    end)

    self.win = self:AddComponent(UIText,"bgForPvp/winPanelImg/winText")
    self.lost = self:AddComponent(UIText,"bgForPvp/winPanelImg/lostText")
    self.all = self:AddComponent(UIText,"bgForPvp/winPanelImg/allText")
    self.win:SetText(DataUtil.GetClientText(100250))
    self.lost:SetText(DataUtil.GetClientText(100251))
    self.all:SetText(DataUtil.GetClientText(100252))
end

--刷新

local function Refresh(self,_data)
    self.openTimeText:SetText(DataUtil.GetClientText(100230))
    self.timeInfoText:SetText(_data.openDay)
    self.timeNumText:SetText(_data.openTime)
    self.winNumText:SetText(_data.winProbability)
    self.winTextNum:SetText(_data.victoryTimes)
    self.lostTextNum:SetText(_data.lostTimes)
    self.allTextNum:SetText(_data.fightTimes)
end


UIArenaPKInfo.OnCreate = OnCreate
UIArenaPKInfo.Refresh = Refresh
return UIArenaPKInfo
