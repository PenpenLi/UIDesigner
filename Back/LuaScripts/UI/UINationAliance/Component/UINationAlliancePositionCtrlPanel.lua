---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by guoyu.
--- DateTime: 2019/6/20 15:24
---
local UINationAlliancePositionCtrlPanel = BaseClass("UINationAlliancePositionCtrlPanel", UIBaseContainer)
local base = UIBaseContainer

local function OnCreate(self)
    base.OnCreate(self)

    self.maskButton = self:AddComponent(UIButton, "mask")
    self.maskButton:SetOnClick(function()
        self:SetActive(false)
    end)

    self.closeButton = self:AddComponent(UIButton, "Top/CloseButton")
    self.closeButton:SetOnClick(function()
        self:SetActive(false)
    end)

    self.titleText = self:AddComponent(UIText, "Top/Text")
    self.titleText:SetText(DataUtil.GetClientText(200275))

    --副盟主
    self.pos1Text = self:AddComponent(UIText, "layout/item1/Text1")
    self.pos1Text:SetText(DataUtil.GetClientText(200288))
    self.buttonText = self:AddComponent(UIText, "layout/item1/Button1/buttonText1")
    self.item = UIUtil.FindTrans(self.transform, "layout/item1").gameObject
    self.button = self:AddComponent(UIButton, "layout/item1/Button1")
    self.button:SetOnClick(function()
        self.view.ctrl:posManagerClick(2)
    end)

    --指挥官
    self.pos2Text = self:AddComponent(UIText, "layout/item2/Text2")
    self.pos2Text:SetText(DataUtil.GetClientText(200289))
    self.buttonText1 = self:AddComponent(UIText, "layout/item2/Button2/buttonText2")
    self.item1 = UIUtil.FindTrans(self.transform, "layout/item2").gameObject
    self.button1 = self:AddComponent(UIButton, "layout/item2/Button2")
    self.button1:SetOnClick(function()
        self.view.ctrl:posManagerClick(3)
    end)

    --精英
    self.pos3Text = self:AddComponent(UIText, "layout/item3/Text3")
    self.pos3Text:SetText(DataUtil.GetClientText(200290))
    self.buttonText2 = self:AddComponent(UIText, "layout/item3/Button3/buttonText3")
    self.item2 = UIUtil.FindTrans(self.transform, "layout/item3").gameObject
    self.button2 = self:AddComponent(UIButton, "layout/item3/Button3")
    self.button2:SetOnClick(function()
        self.view.ctrl:posManagerClick(4)
    end)
end

local function OnEnable(self)
    self:OnRefresh()
end

--[200291] = _T("罢免"),
--[200292] = _T("任命"),
local function OnRefresh(self)
    self.item:SetActive(false)
    self.item1:SetActive(false)
    self.item2:SetActive(false)
    if self.view.model.myUnionMember.position == NationDefine.NATION_UNION_POSITION.LEADER then
        --盟主
        self.item:SetActive(true)
        self.item1:SetActive(true)
        self.item2:SetActive(true)
        if self.view.model.ctrlMember.position == NationDefine.NATION_UNION_POSITION.DEPUTYLEADER then
            self.buttonText:SetText(DataUtil.GetClientText(200291))
            self.buttonText1:SetText(DataUtil.GetClientText(200292))
            self.buttonText2:SetText(DataUtil.GetClientText(200292))
        elseif self.view.model.ctrlMember.position == NationDefine.NATION_UNION_POSITION.COMMANDER then
            self.buttonText:SetText(DataUtil.GetClientText(200292))
            self.buttonText1:SetText(DataUtil.GetClientText(200291))
            self.buttonText2:SetText(DataUtil.GetClientText(200292))
        elseif self.view.model.ctrlMember.position == NationDefine.NATION_UNION_POSITION.ELITE then
            self.buttonText:SetText(DataUtil.GetClientText(200292))
            self.buttonText1:SetText(DataUtil.GetClientText(200292))
            self.buttonText2:SetText(DataUtil.GetClientText(200291))
        elseif self.view.model.ctrlMember.position == NationDefine.NATION_UNION_POSITION.MEMBER then
            self.buttonText:SetText(DataUtil.GetClientText(200292))
            self.buttonText1:SetText(DataUtil.GetClientText(200292))
            self.buttonText2:SetText(DataUtil.GetClientText(200292))
        end
    elseif self.view.model.myUnionMember.position == NationDefine.NATION_UNION_POSITION.DEPUTYLEADER then
        --副盟主
        self.item:SetActive(false)
        self.item1:SetActive(true)
        self.item2:SetActive(true)
        if self.view.model.ctrlMember.position == NationDefine.NATION_UNION_POSITION.COMMANDER then
            self.buttonText1:SetText(DataUtil.GetClientText(200291))
            self.buttonText2:SetText(DataUtil.GetClientText(200292))
        elseif self.view.model.ctrlMember.position == NationDefine.NATION_UNION_POSITION.ELITE then
            self.buttonText1:SetText(DataUtil.GetClientText(200292))
            self.buttonText2:SetText(DataUtil.GetClientText(200291))
        elseif self.view.model.ctrlMember.position == NationDefine.NATION_UNION_POSITION.MEMBER then
            self.buttonText1:SetText(DataUtil.GetClientText(200292))
            self.buttonText2:SetText(DataUtil.GetClientText(200292))
        end
    elseif self.view.model.myUnionMember.position == NationDefine.NATION_UNION_POSITION.COMMANDER then
        --指挥官
        self.item:SetActive(false)
        self.item1:SetActive(false)
        self.item2:SetActive(true)
        if self.view.model.ctrlMember.position == NationDefine.NATION_UNION_POSITION.ELITE then
            self.buttonText2:SetText(DataUtil.GetClientText(200291))
        elseif self.view.model.ctrlMember.position == NationDefine.NATION_UNION_POSITION.MEMBER then
            self.buttonText2:SetText(DataUtil.GetClientText(200292))
        end
    end
end

UINationAlliancePositionCtrlPanel.OnRefresh = OnRefresh
UINationAlliancePositionCtrlPanel.OnCreate = OnCreate
UINationAlliancePositionCtrlPanel.OnEnable = OnEnable
return UINationAlliancePositionCtrlPanel