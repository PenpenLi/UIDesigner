---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by guoyu.
--- DateTime: 2019/6/28 13:49
---
local UINationAllianceOccupyWrapItem = require "UI.UINationAliance.Component.UINationAllianceOccupyWrapItem"
local UINationAllianceOccupyPanel = BaseClass("UINationAllianceLogPanel", UIBaseContainer)
local base = UIBaseContainer

--占领界面
local function OnCreate(self)
    base.OnCreate(self)

    self.titleText1 = self:AddComponent(UIText, "TitleObj/Text1")
    self.titleText1:SetText(DataUtil.GetClientText(200287))
    self.titleText2 = self:AddComponent(UIText, "TitleObj/Text2")
    self.titleText2:SetText(DataUtil.GetClientText(200197))
    self.titleText3 = self:AddComponent(UIText, "TitleObj/Text3")
    self.titleText3:SetText(DataUtil.GetClientText(200059))

    self.wrapGroup = self:AddComponent(UIWrapGroup3D, "ScrollView/Grid", UINationAllianceOccupyWrapItem)
    self.empty = UIUtil.FindTrans(self.transform, "Empty").gameObject
    self.emptyText = self:AddComponent(UIText, "Empty/EmptyText")
    self.emptyText:SetText(DataUtil.GetClientText(200232))
end

local function OnEnable(self)
    base.OnEnable(self)
    if #self.view.model.holdBuildings == 0 then
        self.wrapGroup:SetActive(false)
        self.empty:SetActive(true)
    else
        self.wrapGroup:SetActive(true)
        self.wrapGroup:SetLength(#self.view.model.holdBuildings)
        self.wrapGroup:ResetToBeginning()
        self.empty:SetActive(false)
    end
    self:OnAddListener()
end

local function OnAddListener(self)
    ---- UI消息注册

end

local function OnRemoveListener(self)
    ---- UI消息注销

end

local function OnDisable(self)
    base.OnDisable(self)

    self:OnRemoveListener()
end

local function OnDestroy(self)
    -- 销毁
    base.OnDestroy(self)
end

UINationAllianceOccupyPanel.OnCreate = OnCreate
UINationAllianceOccupyPanel.OnEnable = OnEnable
UINationAllianceOccupyPanel.OnAddListener = OnAddListener
UINationAllianceOccupyPanel.OnRemoveListener = OnRemoveListener
UINationAllianceOccupyPanel.OnDisable = OnDisable
UINationAllianceOccupyPanel.OnDestroy = OnDestroy

return UINationAllianceOccupyPanel