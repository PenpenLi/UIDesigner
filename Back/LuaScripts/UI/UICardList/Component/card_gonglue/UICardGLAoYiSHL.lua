---
    --- Generated by EmmyLua(https://github.com/EmmyLua)
    --- Created by LJ095.
    --- DateTime: 2019/5/6 10:34
    ---

local UICardGLAoYiSHL=BaseClass("UICardGLAoYiSHL", UIBaseContainer);
local skillWrapitem=require "UI.UICardList.Component.card_skill.UICardSkillWrap"
local base = UIBaseContainer;

local skill_name_path = "skillbg/SkillItem1/_name";
local skill_keyname_path = "skillbg/SkillItem1/_keyname";
local skill_nowText_path = "skillbg/base/base_Scroll/now_text";
local skill_nextText_path = "skillbg/next/next_Scroll/next_text";

local skill_data=DataUtil.GetData("skill")
local StaticCardData = DataUtil.GetData("card")

local function OnCreate(self,_holderSelf)
    base.OnCreate(self);
    self.parent=_holderSelf
    --定位关键词
    self.name_text = self:AddComponent(UIText,skill_name_path);
    self.keyname_text = self:AddComponent(UIText,skill_keyname_path);
    self.now_text = self:AddComponent(UIText,skill_nowText_path);
    self.next_text = self:AddComponent(UIText,skill_nextText_path);

    self.skillitem = skillWrapitem.New(self,"skillbg/SkillItem1/SkillIcon");
    self.skillitem:OnCreate(self);

    self:OnRefresh()

end



--刷新
local function OnRefresh(self)
    local skillID = StaticCardData[self.parent.cardId].Skill[1]
    local skillData = skill_data[skillID];
    self.name_text:SetText(skillData.Name)
    self.name_text:SetText(skillData.Name)
    local keyStr = "";
    for i = 1, #skillData.FeatureWords do
        keyStr = keyStr.."["..skillData.FeatureWords[i].."]"
    end
    self.keyname_text:SetText(keyStr);
    self.now_text:SetText(skillData.SkillSketchDes);
    self.next_text:SetText(skillData.SkillUsage);
    self.skillitem:OnRefresh(skillID,0,self.parent.cardId);
end

local function OnDestroy(self)
    base.OnDestroy(self)
end
local function OnDisable(self)

end
local function OnDestroy(self)
    --主界面DesTory 触发

end
UICardGLAoYiSHL.OnDestroy= OnDestroy
UICardGLAoYiSHL.OnDisable=OnDisable
UICardGLAoYiSHL.OnCreate=OnCreate;
UICardGLAoYiSHL.OnRefresh=OnRefresh;
UICardGLAoYiSHL.OnDestroy=OnDestroy;
return UICardGLAoYiSHL;