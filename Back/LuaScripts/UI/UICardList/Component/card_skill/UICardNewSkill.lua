---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by Administrator.
--- DateTime: 2019/5/11 11:29
local UICardNewSkill = BaseClass("UICardNewSkill", UIBaseContainer)
local base = UIBaseContainer
local jlrskill= require "UI.UICardList.Component.card_skill.UICardJLRSkill"
local shlskill=require "UI.UICardList.Component.card_skill.UICardSHLSkill"
local function OnCreate(self,holder)
    base.OnCreate(self)
    self.holder=holder
    self.ljrObj=UIUtil.FindTrans(self.transform,"jlrskillbg")
    self.shlObj=UIUtil.FindTrans(self.transform,"shlskillbg")
    self.jlr=jlrskill.New(self,"jlrskillbg")
    self.jlr:OnCreate(self)
    self.shl=shlskill.New(self,"shlskillbg")
    self.shl:OnCreate(self)
    self.shl:OnAddListener()
    self:OnRefresh()
end
local function OnRefresh(self)
    if self.holder.model.hero_type then
        self.ljrObj.gameObject:SetActive(true)
        self.shlObj.gameObject:SetActive(false)
        self.shl:OnDisable()
        self.jlr:OnRefresh()
    else
        self.ljrObj.gameObject:SetActive(false)
        self.jlr:OnDisable()
        self.shlObj.gameObject:SetActive(true)
        --这里传过来一条数据
        self.shl:OnRefresh()
    end
end
local function OnDisable(self)
    --DataManager:GetInstance():Broadcast(DataMessageNames.ON_NEWUICARD_CLICKVIEW_SKILL,1,true)
    self.jlr:OnDisable()
    self.shl:OnDisable()

end
local function OnDestroy(self)
    --主界面DesTory 触发
    self.shl:OnRemoveListener()
end
UICardNewSkill.OnDestroy= OnDestroy
UICardNewSkill.OnRefresh = OnRefresh
UICardNewSkill.OnCreate = OnCreate
UICardNewSkill.OnDisable = OnDisable
return UICardNewSkill