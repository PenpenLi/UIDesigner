---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by ljl.
--- DateTime: 2019/4/27 10:51
---
local UINationBanditsCostItem = BaseClass("UINationBanditsCostItem", UIWrapComponent)
local base = UIWrapComponent

local function OnCreate(self, index)
    base.OnCreate(self)

    self.index = index
    self.frameImg = self:AddComponent(UIImage, "", AtlasConfig.DynamicTex)
    self.IconImg = self:AddComponent(UIImage, "Icon", AtlasConfig.DynamicTex)
    self.chipImg = self:AddComponent(UIImage, "chipImg")
    self.chipNumText = self:AddComponent(UIText, "chipNum")

    self.info_iconPress = self:AddComponent(UIEventTrigger, "")
    self.info_iconPress:SetOnLongPress(function()
        UIManager:GetInstance():OpenWindow(UIWindowNames.UIItemTips, self.costItem.itemId)
    end, (function()
        UIManager:GetInstance():CloseWindow(UIWindowNames.UIItemTips)
    end), true)
end

-- 组件被复用时回调该函数，执行组件的刷新
local function OnRefresh(self, real_index)
    self.index = real_index + 1

    local itemDatas = self.view.model.rewardShows
    self.costItem = itemDatas[self.index]
    self.frameImg:SetSpriteName(SpriteDefine:GetItemQualityFrameByType(self.costItem.Quality))
    self.IconImg:SetSpriteName(self.costItem.Icon)
    self.chipImg.gameObject:SetActive(false)
    self.chipNumText:SetText("")
end

UINationBanditsCostItem.OnCreate = OnCreate
UINationBanditsCostItem.OnRefresh = OnRefresh

return UINationBanditsCostItem