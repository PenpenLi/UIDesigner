---
--- Generated by EmmyLua(https://github.com/EmmyLua)
--- Created by ljl.
--- DateTime: 2019/1/9 11:15
---
local UIArenaScoreWrapItem=BaseClass("UIArenaScoreWrapItem",UIWrapComponent)
local base = UIWrapComponent

---点击单个物品
--local function OnSkillItemClick(self)

--end

local function OnCreate(self)
    base.OnCreate(self)
    --组建初始化
    self.score_num_text = self:AddComponent(UIText,"score_UIText")
    self.bgImg=self:AddComponent(UIImage,"",AtlasConfig.DynamicTex);
    --self.skill_btn = self:AddComponent(UIButton,"bg_UIButton")
    --self.skill_btn:SetOnClick(self,OnSkillItemClick)
    self.item1_frame_img = self:AddComponent(UIImage,"itemFromImg1",AtlasConfig.DynamicTex)
    self.item1_icon_img = self:AddComponent(UIImage,"itemFromImg1/itemIconImg1",AtlasConfig.DynamicTex)
    self.item1_num_text = self:AddComponent(UIText,"itemFromImg1/numUIText1")
    self.item2_frame_img = self:AddComponent(UIImage,"itemFromImg2",AtlasConfig.DynamicTex)
    self.item2_icon_img = self:AddComponent(UIImage,"itemFromImg2/itemIconImg2",AtlasConfig.DynamicTex)
    self.item2_num_text = self:AddComponent(UIText,"itemFromImg2/numUIText2")
    self.info_iconPress1=self:AddComponent(UIEventTrigger,"itemFromImg1/itemIconImg1")
    self.info_iconPress1:SetOnLongPress(function()
        if self.score_single_data.awardDataList[1].id then
            UIManager:GetInstance():OpenWindow(UIWindowNames.UIItemTips,self.score_single_data.awardDataList[1].id)
        end
    end,(function()
        UIManager:GetInstance():CloseWindow(UIWindowNames.UIItemTips)
    end),true)
    self.info_iconPress2=self:AddComponent(UIEventTrigger,"itemFromImg2/itemIconImg2")
    self.info_iconPress2:SetOnLongPress(function()
        if self.score_single_data.awardDataList[2].id then
            UIManager:GetInstance():OpenWindow(UIWindowNames.UIItemTips,self.score_single_data.awardDataList[2].id)
        end
    end,(function()
        UIManager:GetInstance():CloseWindow(UIWindowNames.UIItemTips)
    end),true)
end

-- 组件被复用时回调该函数，执行组件的刷新
local function OnRefresh(self,real_index)
    self.score_single_data=self.view.itemData[real_index+1]

    if self.score_single_data == nil then
        return
    end
    self.bgImg:SetEnabled((real_index+1)%2~=0);
    self.score_num_text:SetText(self.score_single_data.scoreNum)
    self.item1_frame_img:SetSpriteName(SpriteDefine:GetItemQualityFrameByType(self.score_single_data.awardDataList[1].quality))
    self.item1_icon_img:SetSpriteName(self.score_single_data.awardDataList[1].icon)
    self.item1_num_text:SetText(self.score_single_data.awardDataList[1].num)
    if self.score_single_data.awardDataList[2] ~=nil then
        self.item2_frame_img.gameObject:SetActive(true)
        self.item2_frame_img:SetSpriteName(SpriteDefine:GetItemQualityFrameByType(self.score_single_data.awardDataList[2].quality))
        self.item2_icon_img:SetSpriteName(self.score_single_data.awardDataList[2].icon)
        self.item2_num_text:SetText(self.score_single_data.awardDataList[2].num)
    else
        self.item2_frame_img.gameObject:SetActive(false)
    end

end

UIArenaScoreWrapItem.OnCreate = OnCreate
--UIArenaScoreWrapItem.OnSkillItemClick = OnSkillItemClick
UIArenaScoreWrapItem.OnRefresh=OnRefresh

return UIArenaScoreWrapItem